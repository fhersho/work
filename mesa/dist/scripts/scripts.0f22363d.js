"use strict";angular.module("mesaApp",["ngResource","ngRoute","angular-loading-bar"]).config(["$routeProvider",function(a){a.when("/usuarios",{templateUrl:"views/usuario.html",controller:"UsuarioCtrl"}).when("/circulos",{templateUrl:"views/circulo.html",controller:"CirculoCtrl"}).when("/mapa",{templateUrl:"views/mapa.html",controller:"MapaCtrl"}).otherwise({redirectTo:"/usuarios"})}]).controller("appController",["$scope","$location",function(a,b){a.isActiveMenu=function(a){return a===b.path()}}]),angular.module("mesaApp").controller("UsuarioCtrl",["$scope","Usuario",function(a,b){a.buscar=function(){a.$emit("LOAD"),a.usuarios=b.buscarLikeNombre({nombre:a.nombre},function(b){a.usuarios=b},function(a){bootbox.alert("<strong>Error: </strong>"+a.data)})}}]),angular.module("mesaApp").controller("CirculoCtrl",["$scope","Circulo",function(a,b){a.circulos=b.buscarCirculos(function(b){a.usuarios=b},function(a){bootbox.alert("<strong>Error: </strong>"+a.data)})}]),angular.module("mesaApp").factory("Usuario",["$resource",function(a){var b="http://localhost:8080/MABackend/api/usuarios/buscarLikeNombre?nombre=:nombre";return a(b,{},{buscarLikeNombre:{method:"GET",isArray:!0}})}]).factory("Circulo",["$resource",function(a){var b="http://localhost:9000/circulos.json";return a(b,{},{buscarCirculos:{method:"GET",isArray:!0}})}]),angular.module("mesaApp").run(["$templateCache",function(a){a.put("views/circulo.html",'<div class="input-group"> <span class="input-group-addon"> <i class="glyphicon glyphicon-search"></i> </span> <input type="text" class="form-control" ng-model="buscar" placeholder="Buscar circulo"> </div> <hr> <div> <table class="table table-striped table-responsive table-bordered"> <thead> <tr> <th>Id</th> <th>Nombre</th> <th>Fecha prod.</th> <th>Activo</th> </tr> </thead> <tbody> <tr ng-repeat="circulo in circulos | filter:buscar"> <td>{{circulo.id}}</td> <td>{{circulo.nombre}}</td> <td>{{circulo.fechaProduccion | date : \'dd/MM/yyyy\'}}</td> <td>{{circulo.activo}}</td> </tr> </tbody> </table> </div>'),a.put("views/mapa.html",'<div ng-controller="MaxboundsController"> <leaflet maxbounds="maxbounds" defaults="defaults"></leaflet> <button class="btn btn-primary padright" ng-click="setRegion(\'london\')">London Region</button> <button class="btn btn-primary padright" ng-click="setRegion(\'lisbon\')">Lisbon Region</button> <button class="btn btn-primary padright" ng-click="setRegion(\'warszawa\')">Warszawa Region</button> <button class="btn btn-primary padright" ng-click="setRegion(\'\')">Unset maxbounds</button> </div>'),a.put("views/usuario.html",'<div class="input-group"> <input type="text" class="form-control" ng-keyup="$event.keyCode === 13 && buscar()" ng-model="nombre" placeholder="Nombre usuario, ejm: fernan%padilla"> <span class="input-group-btn"> <button ng-click="buscar()" type="button" class="btn btn-primary">Buscar</button> </span> </div> <hr> <div> <table class="table table-striped table-responsive table-bordered"> <thead> <tr> <th>Id</th> <th>Nombre</th> <th>Primer apellido</th> <th>Segundo apellido</th> <th>Circulo</th> <th>Activo</th> </tr> </thead> <tbody> <tr ng-repeat="usuario in usuarios"> <td>{{usuario.id}}</td> <td>{{usuario.nombre}}</td> <td>{{usuario.primerApellido}}</td> <td>{{usuario.segundoApellido}}</td> <td>{{usuario.circulo.nombre}}</td> <td>{{usuario.activo}}</td> </tr> </tbody> </table> </div>')}]);